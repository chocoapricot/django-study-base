{% extends 'common/_base.html' %}
{% block content %}

{# --- ヘッダー --- #}
{# 各Viewで設定されたパスのテンプレートをインクルード #}
{# company, staff, client_contract オブジェクトは各Viewのcontextで設定されている前提 #}
{% if info_card_path %}
    {% include info_card_path %}
{% endif %}

{# --- 変更履歴 --- #}
{# 共通テンプレートを使用して変更履歴を表示（ページネーション・戻るボタン込み） #}
{% if object %}
    {% url back_url_name object.pk as detail_url %}
{% else %}
    {% url back_url_name as detail_url %}
{% endif %}

{% with change_logs=change_logs change_logs_count=change_logs.paginator.count history_url='' title=page_title back_url=detail_url show_full_content=True %}
    {% include 'common/_change_history_list.html' %}
{% endwith %}

<style>
    td[style*="max-width"] {
        /* スマホでも折り返しやすく */
        max-width: 90vw;
    }
</style>

{% endblock %}