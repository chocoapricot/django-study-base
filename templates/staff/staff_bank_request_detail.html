{% extends "common/_base.html" %}

{% block title %}銀行情報申請の詳細{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="card">
        <div class="card-header">
            <h4 class="mb-0">銀行情報申請の詳細</h4>
        </div>
        <div class="card-body">
            <p>スタッフ: <strong>{{ staff.name_last }} {{ staff.name_first }}</strong></p>
            <p>申請日時: {{ bank_request.created_at|date:"Y-m-d H:i" }}</p>
            <hr>
            <h5>申請された銀行情報</h5>
            <table class="table table-bordered">
                <tbody>
                    <tr>
                        <th style="width: 25%;">銀行名</th>
                        <td>{{ bank_request.staff_bank_profile.bank_name }} ({{ bank_request.staff_bank_profile.bank_code }})</td>
                    </tr>
                    <tr>
                        <th>支店名</th>
                        <td>{{ bank_request.staff_bank_profile.branch_name }} ({{ bank_request.staff_bank_profile.branch_code }})</td>
                    </tr>
                    <tr>
                        <th>口座種別</th>
                        <td>{{ bank_request.staff_bank_profile.account_type }}</td>
                    </tr>
                    <tr>
                        <th>口座番号</th>
                        <td>{{ bank_request.staff_bank_profile.account_number }}</td>
                    </tr>
                    <tr>
                        <th>口座名義</th>
                        <td>{{ bank_request.staff_bank_profile.account_holder }}</td>
                    </tr>
                </tbody>
            </table>

            <hr>

            <form method="post" class="mt-3">
                {% csrf_token %}
                <p>この銀行情報申請を承認または却下しますか？</p>
                <button type="submit" name="action" value="approve" class="btn btn-success">
                    <i class="fas fa-check"></i> 承認する
                </button>
                <button type="submit" name="action" value="reject" class="btn btn-danger" onclick="return confirm('本当に却下しますか？');">
                    <i class="fas fa-times"></i> 却下する
                </button>
                <a href="{% url 'staff:staff_detail' pk=staff.pk %}" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i> キャンセル
                </a>
            </form>
        </div>
    </div>
</div>
{% endblock %}
