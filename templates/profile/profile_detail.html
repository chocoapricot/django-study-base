{% extends 'common/_base.html' %}
{% load help_tags %}

{% block title %}基本情報詳細{% endblock %}

{% block content %}
<div class="content-box card bg-light mt-2 mb-4" style="max-width: 100%;">
    <div class="card-header d-flex justify-content-between align-items-center">
        基本情報詳細
        <div>
            {% if not profile %}
                <a href="{% url 'profile:staff_edit' %}" class="btn btn-sm btn-primary">基本情報作成</a>
            {% endif %}
        </div>
    </div>
    <div class="card-body">
        {% if profile %}
            <div class="row mb-1">
                <label class="col-sm-2 col-form-label text-start text-md-end"><strong>氏名</strong></label>
                <div class="col-sm-10">
                    <h4>
                        <ruby>
                            {{ profile.name_last }}<rt style="font-size: 14px;">{{ profile.name_kana_last }}</rt>
                        </ruby>
                        <ruby>
                            {{ profile.name_first }}<rt style="font-size: 14px;">{{ profile.name_kana_first }}</rt>
                        </ruby>
                    </h4>
                </div>
            </div>

            <div class="row mb-1">
                <label class="col-sm-2 col-form-label text-start text-md-end"><strong>性別</strong></label>
                <div class="col-sm-10">
                    <p class="form-control-plaintext">{{ profile.sex_display }}</p>
                </div>
            </div>
            <div class="row mb-1">
                <label class="col-sm-2 col-form-label text-start text-md-end"><strong>メールアドレス</strong></label>
                <div class="col-sm-10">
                    <p class="form-control-plaintext">{{ profile.email }}</p>
                </div>
            </div>
            <div class="row mb-1">
                <label class="col-sm-2 col-form-label text-start text-md-end"><strong>電話番号</strong></label>
                <div class="col-sm-10">
                    <p class="form-control-plaintext">{{ profile.phone }}</p>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label text-start text-md-end"><strong>住所</strong></label>
                <div class="col-sm-6">
                    <p class="form-control-plaintext">〒{{ profile.postal_code|slice:":3" }}-{{ profile.postal_code|slice:"3:" }}</p>
                    {{ profile.full_address }}
                </div>
            </div>
            <div class="row mb-3 align-items-center">
                <div class="col-sm-2 text-start text-md-end">
                    <strong>資格</strong>
                </div>
                <div class="col-sm">
                    {% if profile.qualifications.all %}
                        {% for q in profile.qualifications.all %}
                            <span class="badge bg-info">{{ q.qualification.name }}{% if q.score %} {{ q.score }}{% endif %}</span>
                        {% endfor %}
                    {% else %}
                        <span class="text-muted">無し</span>
                    {% endif %}
                    <a href="{% url 'profile:qualification_list' %}" class="btn btn-sm btn-outline-secondary ms-2">一覧</a>
                </div>
            </div>
            <div class="row mb-2 align-items-center">
                <div class="col-sm-2 text-start text-md-end">
                    <strong>技能</strong>
                </div>
                <div class="col-sm">
                    {% if profile.skills.all %}
                        {% for s in profile.skills.all %}
                            <span class="badge bg-success">{{ s.skill.name }}</span>
                        {% endfor %}
                    {% else %}
                        <span class="text-muted">無し</span>
                    {% endif %}
                    <a href="{% url 'profile:skill_list' %}" class="btn btn-sm btn-outline-secondary ms-2">一覧</a>
                </div>
            </div>
        {% else %}
            <div class="alert alert-info" role="alert">
                <i class="bi bi-info-circle"></i>
                基本情報が登録されていません。「基本情報作成」ボタンから登録してください。
            </div>
        {% endif %}

        <div class="d-flex justify-content-start">
            <a href="/profile/" class="btn btn-sm btn-secondary">戻る</a>
            {% if profile %}
                <a href="{% url 'profile:staff_edit' %}" class="btn btn-sm btn-primary ms-2">編集</a>
                <a href="{% url 'profile:staff_delete' %}" class="btn btn-sm btn-dark ms-2">削除</a>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}