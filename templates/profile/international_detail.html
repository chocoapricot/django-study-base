{% extends 'common/_base.html' %}

{% block title %}外国籍情報詳細{% endblock %}

{% block content %}
<div class="content-box card bg-light mt-2 mb-4" style="max-width: 100%;">
    <div class="card-header d-flex justify-content-between align-items-center">
        外国籍情報詳細
        <div>
            {% if not international %}
                <a href="{% url 'profile:international_edit' %}" class="btn btn-sm btn-primary">外国籍情報登録</a>
            {% endif %}
        </div>
    </div>
    <div class="card-body">
        {% if international %}
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label text-start text-sm-end"><strong>在留カード番号</strong></label>
                <div class="col-sm-9">
                    <p class="form-control-plaintext">{{ international.residence_card_number }}</p>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label text-start text-sm-end"><strong>在留資格</strong></label>
                <div class="col-sm-9">
                    <p class="form-control-plaintext">{{ international.residence_status }}</p>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label text-start text-sm-end"><strong>在留許可開始日</strong></label>
                <div class="col-sm-9">
                    <p class="form-control-plaintext">{{ international.residence_period_from|date:"Y年m月d日" }}</p>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label text-start text-sm-end"><strong>在留期限</strong></label>
                <div class="col-sm-9">
                    <p class="form-control-plaintext">{{ international.residence_period_to|date:"Y年m月d日" }}</p>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label text-start text-sm-end"><strong>在留カード（表面）</strong></label>
                <div class="col-sm-9">
                    {% if international.residence_card_front %}
                        <a href="{% url 'profile:download_international_file' pk=international.pk field_name='residence_card_front' %}" target="_blank">
                            <img src="{% url 'profile:download_international_file' pk=international.pk field_name='residence_card_front' %}" alt="在留カード（表面）" class="img-fluid border p-1" style="max-width: 300px;">
                        </a>
                    {% else %}
                        <p class="form-control-plaintext">-</p>
                    {% endif %}
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label text-start text-sm-end"><strong>在留カード（裏面）</strong></label>
                <div class="col-sm-9">
                    {% if international.residence_card_back %}
                        <a href="{% url 'profile:download_international_file' pk=international.pk field_name='residence_card_back' %}" target="_blank">
                            <img src="{% url 'profile:download_international_file' pk=international.pk field_name='residence_card_back' %}" alt="在留カード（裏面）" class="img-fluid border p-1" style="max-width: 300px;">
                        </a>
                    {% else %}
                        <p class="form-control-plaintext">-</p>
                    {% endif %}
                </div>
            </div>

        {% else %}
            <div class="alert alert-info" role="alert">
                <i class="bi bi-info-circle"></i>
                外国籍情報が登録されていません。「外国籍情報登録」ボタンから登録してください。
            </div>
        {% endif %}

        <div class="row mt-3">
            <div class="col text-left">
                {% if international %}
                    <a href="{% url 'profile:international_edit' %}" class="btn btn-sm btn-primary ms-2">編集</a>
                    <a href="{% url 'profile:international_delete' %}" class="btn btn-sm btn-dark ms-2">削除</a>
                {% endif %}
                <a href="/profile/" class="btn btn-sm btn-secondary ms-2">戻る</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}