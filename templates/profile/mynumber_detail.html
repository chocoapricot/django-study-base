{% extends 'common/_base.html' %}

{% block title %}マイナンバー詳細{% endblock %}

{% block content %}
<div class="content-box card bg-light mt-2 mb-4" style="max-width: 100%;">
    <div class="card-header d-flex justify-content-between align-items-center">
        マイナンバー詳細
        <div>
            {% if not mynumber %}
                <a href="{% url 'profile:mynumber_edit' %}" class="btn btn-sm btn-primary">マイナンバー登録</a>
            {% endif %}
        </div>
    </div>
    <div class="card-body">
        {% if mynumber %}
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label text-start text-md-end">メールアドレス</label>
                <div class="col-sm-10">
                    <p class="form-control-plaintext">{{ mynumber.email }}</p>
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label text-start text-md-end"><strong>マイナンバー</strong></label>
                <div class="col-sm-10">
                    <p class="form-control-plaintext">{{ mynumber.mynumber }}</p>
                </div>
            </div>

            <!-- 添付ファイル -->
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label text-start text-md-end">マイナンバーカード表面</label>
                <div class="col-sm-10">
                    {% if mynumber.mynumber_card_front %}
                        <a href="{% url 'profile:download_mynumber_file' pk=mynumber.pk field_name='mynumber_card_front' %}" target="_blank">
                            <img src="{% url 'profile:download_mynumber_file' pk=mynumber.pk field_name='mynumber_card_front' %}" alt="マイナンバーカード表面" class="img-thumbnail" style="max-width: 200px;">
                        </a>
                    {% else %}
                        <p class="form-control-plaintext">未登録</p>
                    {% endif %}
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label text-start text-md-end">マイナンバーカード裏面</label>
                <div class="col-sm-10">
                    {% if mynumber.mynumber_card_back %}
                        <a href="{% url 'profile:download_mynumber_file' pk=mynumber.pk field_name='mynumber_card_back' %}" target="_blank">
                            <img src="{% url 'profile:download_mynumber_file' pk=mynumber.pk field_name='mynumber_card_back' %}" alt="マイナンバーカード裏面" class="img-thumbnail" style="max-width: 200px;">
                        </a>
                    {% else %}
                        <p class="form-control-plaintext">未登録</p>
                    {% endif %}
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label text-start text-md-end">本人確認書類１</label>
                <div class="col-sm-10">
                    {% if mynumber.identity_document_1 %}
                        <a href="{% url 'profile:download_mynumber_file' pk=mynumber.pk field_name='identity_document_1' %}" target="_blank">
                            <img src="{% url 'profile:download_mynumber_file' pk=mynumber.pk field_name='identity_document_1' %}" alt="本人確認書類１" class="img-thumbnail" style="max-width: 200px;">
                        </a>
                    {% else %}
                        <p class="form-control-plaintext">未登録</p>
                    {% endif %}
                </div>
            </div>
            <div class="row mb-3">
                <label class="col-sm-2 col-form-label text-start text-md-end">本人確認書類２</label>
                <div class="col-sm-10">
                    {% if mynumber.identity_document_2 %}
                        <a href="{% url 'profile:download_mynumber_file' pk=mynumber.pk field_name='identity_document_2' %}" target="_blank">
                            <img src="{% url 'profile:download_mynumber_file' pk=mynumber.pk field_name='identity_document_2' %}" alt="本人確認書類２" class="img-thumbnail" style="max-width: 200px;">
                        </a>
                    {% else %}
                        <p class="form-control-plaintext">未登録</p>
                    {% endif %}
                </div>
            </div>
        {% else %}
            <div class="alert alert-info" role="alert">
                <i class="bi bi-info-circle"></i>
                マイナンバーが登録されていません。「マイナンバー登録」ボタンから登録してください。
            </div>
        {% endif %}
        <div class="d-flex justify-content-start">
            {% if mynumber %}
                <a href="{% url 'profile:mynumber_edit' %}" class="btn btn-sm btn-primary ms-2">編集</a>
                <a href="{% url 'profile:mynumber_delete' %}" class="btn btn-sm btn-dark ms-2">削除</a>
            {% endif %}
            <a href="/profile/" class="btn btn-sm btn-secondary ms-2">戻る</a>
        </div>
    </div>
</div>

{% endblock %}