# プロジェクト構成

このドキュメントは、プロジェクトの構成、特に `apps`、`templates`、`config` ディレクトリに焦点を当てて概説します。

## `apps/`

このディレクトリには、プロジェクトを構成する様々なDjangoアプリケーションが含まれています。

### `accounts/`
- **`models.py`**: ユーザー関連モデル。
  - `MyUser`: `AbstractUser` を継承したカスタムユーザーモデル。
- **`views.py`**: ユーザー認証（ログイン、ログアウト）、登録、プロフィール表示を処理します。
- **`forms.py`**: ユーザー登録およびプロフィール編集用のフォーム。
- **`urls.py`**: accountsアプリケーションのURLルーティング。
- **`admin.py`**: アカウントモデルのDjango管理インターフェース設定。

### `client/`
- **`models.py`**: クライアント関連モデル。
  - `Client`: クライアント企業を表します。
  - `ClientDepartment`: クライアント企業内の部署を表します。
  - `ClientUser`: クライアント企業の担当者を表します。
  - `ClientContacted`: クライアントとの連絡履歴を記録します。
  - `ClientFile`: クライアントに関連するファイルを添付します。
- **`views.py`**: クライアント、部署、ユーザー、連絡履歴を管理するためのビュー。
- **`forms.py`**: クライアント関連データを作成・編集するためのフォーム。
- **`urls.py`**: clientアプリケーションのURLルーティング。

### `company/`
- **`models.py`**: 社内組織構造のモデル。
  - `Company`: ユーザー自身の会社を表します。
  - `CompanyDepartment`: ユーザーの会社内の部署を表します。
- **`views.py`**: 会社情報と部署を管理するためのビュー。
- **`forms.py`**: 会社および部署データ用のフォーム。
- **`urls.py`**: companyアプリケーションのURLルーティング。

### `connect/`
- **`models.py`**: スタッフとクライアントを接続するためのモデル。
  - `ConnectStaff`: スタッフからの接続リクエストを管理します。
  - `ConnectClient`: クライアントからの接続リクエストを管理します。
- **`views.py`**: 接続リクエストを処理するためのビュー。
- **`urls.py`**: connectアプリケーションのURLルーティング。

### `contract/`
- **`models.py`**: 契約関連モデル。
  - `ClientContract`: クライアントとの契約を表します。
  - `StaffContract`: スタッフメンバーとの契約を表します。
- **`views.py`**: クライアントおよびスタッフの契約を管理するためのビュー。
- **`forms.py`**: 契約データ用のフォーム。
- **`urls.py`**: contractアプリケーションのURLルーティング。

### `csstest/`
- このアプリはCSSテスト用であり、モデルは含まれていません。

### `home/`
- このアプリはメインのダッシュボード/ホームページを提供し、モデルは含まれていません。

### `master/`
- **`models.py`**: マスターデータモデル。
  - `Qualification`: 資格のマスター。
  - `Skill`: スキルのマスター。
  - `BillPayment`: 請求および支払い条件のマスター。
  - `BillBank`: 請求用の銀行情報のマスター。
  - `Bank`: 銀行のマスター。
  - `BankBranch`: 銀行支店のマスター。
- **`views.py`**: マスターデータを管理するためのビュー。
- **`forms.py`**: マスターデータ用のフォーム。
- **`urls.py`**: マスターデータアプリケーションのURLルーティング。

### `profile/`
- **`models.py`**: スタッフプロフィール関連モデル。
  - `StaffProfile`: スタッフメンバーの詳細なプロフィール。
  - `StaffProfileQualification`: スタッフプロフィールの資格を管理します。
  - `StaffProfileSkill`: スタッフプロフィールのスキルを管理します。
  - `StaffMynumber`: スタッフの「マイナンバー」情報を管理します。
- **`views.py`**: スタッフが自身のプロフィールを管理するためのビュー。
- **`forms.py`**: プロフィール編集用のフォーム。
- **`urls.py`**: profileアプリケーションのURLルーティング。

### `staff/`
- **`models.py`**: スタッフメンバー関連モデル。
  - `Staff`: スタッフメンバーを表します。
  - `StaffFile`: スタッフに関連するファイルを添付します。
  - `StaffContacted`: スタッフとの連絡履歴を記録します。
  - `StaffQualification`: スタッフの資格を管理します。
  - `StaffSkill`: スタッフのスキルを管理します。
- **`views.py`**: スタッフメンバーを管理するためのビュー。
- **`forms.py`**: スタッフデータ用のフォーム。
- **`urls.py`**: staffアプリケーションのURLルーティング。

### `system/`
このアプリケーションは、システムレベルの機能のためにサブモジュールに分かれています。
- **`logs/models.py`**:
  - `MailLog`: 送信メールを記録します。
  - `AppLog`: アプリケーションレベルのアクション（作成、更新、削除など）を記録します。
- **`settings/models.py`**:
  - `Dropdowns`: アプリケーション全体で使用されるドロップダウンメニューの値を管理します。
  - `Parameter`: システム全体に関わるパラメータと設定。
  - `Menu`: ナビゲーションメニューの構造を定義します。

## `templates/`

このディレクトリには、プロジェクトのHTMLテンプレートがアプリケーションごとに整理されて格納されています。

- **`account/`**: ユーザー認証（ログイン、サインアップ、パスワードリセット）およびプロフィールページのテンプレート。
- **`client/`**: クライアント関連データのリスト表示、作成、編集、削除用のテンプレート。
- **`common/`**: ベーステンプレート（`_base.html`）および再利用可能なコンポーネント。
- **`company/`**: 会社情報管理用のテンプレート。
- **`connect/`**: 接続リクエスト処理用のテンプレート。
- **`contract/`**: 契約管理用のテンプレート。
- **`home/`**: メインダッシュボード/ホームページ用のテンプレート。
- **`logs/`**: アプリケーションおよびメールログ表示用のテンプレート。
- **`master/`**: マスターデータ管理用のテンプレート。
- **`profile/`**: ユーザー自身のプロフィールページ用のテンプレート。
- **`staff/`**: スタッフデータ管理用のテンプレート。
- **`excels/`**: Excelテンプレートが含まれています。
- **`pdfs/`**: PDFテンプレートが含まれています。

## `config/`

このディレクトリには、Djangoプロジェクトの主要な設定が含まれています。

- **`settings/`**: このディレクトリにはプロジェクトの設定が含まれています。
  - **`settings.py`**: 主要な設定ファイルで、インストール済みアプリ、ミドルウェア、データベース設定などを定義します。`django-allauth`の設定も含まれています。
  - **`develop.py`**, **`product.py`**, **`test.py`**: 環境別の設定。
- **`urls.py`**: ルートURL設定ファイル。`apps/`ディレクトリ内のすべてのアプリケーションからのURLパターンをインクルードします。
- **`wsgi.py`** and **`asgi.py`**: WSGIおよびASGI互換ウェブサーバーのエントリポイント。
